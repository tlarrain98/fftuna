{"ast":null,"code":"const request = require('request');\n\nconst rp = require('request-promise');\n\nconst tough = require('tough-cookie');\n\nconst cookieJar = rp.jar();\n\nfunction requestToPromise(url, cookies) {\n  if (cookies) {\n    const espnS2 = new tough.Cookie({\n      key: 'espn_s2',\n      value: cookies.espnS2,\n      domain: 'espn.com'\n    });\n    const SWID = new tough.Cookie({\n      key: 'SWID',\n      value: cookies.SWID,\n      domain: 'espn.com'\n    });\n    cookieJar.setCookie(espnS2, 'http://games.espn.com/');\n    cookieJar.setCookie(SWID, 'http://games.espn.com/');\n  }\n\n  const options = {\n    method: 'GET',\n    jar: cookieJar,\n    uri: url,\n    json: true,\n    \"cache-control\": \"no-cache\"\n  };\n  return rp(options);\n}\n\nmodule.exports = {\n  requestToPromise: requestToPromise\n};","map":{"version":3,"sources":["C:/Users/tlarr/ffwebsite/node_modules/espn-ff-api-2/espn-request.js"],"names":["request","require","rp","tough","cookieJar","jar","requestToPromise","url","cookies","espnS2","Cookie","key","value","domain","SWID","setCookie","options","method","uri","json","module","exports"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,iBAAD,CAAlB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,cAAD,CAArB;;AACA,MAAMG,SAAS,GAAGF,EAAE,CAACG,GAAH,EAAlB;;AAGA,SAASC,gBAAT,CAA0BC,GAA1B,EAA+BC,OAA/B,EAAwC;AACtC,MAAIA,OAAJ,EAAa;AACX,UAAMC,MAAM,GAAG,IAAIN,KAAK,CAACO,MAAV,CAAiB;AAC9BC,MAAAA,GAAG,EAAE,SADyB;AAE9BC,MAAAA,KAAK,EAAEJ,OAAO,CAACC,MAFe;AAG9BI,MAAAA,MAAM,EAAE;AAHsB,KAAjB,CAAf;AAKA,UAAMC,IAAI,GAAG,IAAIX,KAAK,CAACO,MAAV,CAAiB;AAC5BC,MAAAA,GAAG,EAAE,MADuB;AAE5BC,MAAAA,KAAK,EAAEJ,OAAO,CAACM,IAFa;AAG5BD,MAAAA,MAAM,EAAE;AAHoB,KAAjB,CAAb;AAMAT,IAAAA,SAAS,CAACW,SAAV,CAAoBN,MAApB,EAA4B,wBAA5B;AACAL,IAAAA,SAAS,CAACW,SAAV,CAAoBD,IAApB,EAA0B,wBAA1B;AACD;;AAED,QAAME,OAAO,GAAG;AACdC,IAAAA,MAAM,EAAE,KADM;AAEdZ,IAAAA,GAAG,EAAED,SAFS;AAGdc,IAAAA,GAAG,EAAEX,GAHS;AAIdY,IAAAA,IAAI,EAAE,IAJQ;AAKd,qBAAiB;AALH,GAAhB;AAQA,SAAOjB,EAAE,CAACc,OAAD,CAAT;AACD;;AAEDI,MAAM,CAACC,OAAP,GAAiB;AACff,EAAAA,gBAAgB,EAAEA;AADH,CAAjB","sourcesContent":["const request = require('request');\nconst rp = require('request-promise');\nconst tough = require('tough-cookie');\nconst cookieJar = rp.jar();\n\n\nfunction requestToPromise(url, cookies) {\n  if (cookies) {\n    const espnS2 = new tough.Cookie({\n      key: 'espn_s2',\n      value: cookies.espnS2,\n      domain: 'espn.com'\n    });\n    const SWID = new tough.Cookie({\n      key: 'SWID',\n      value: cookies.SWID,\n      domain: 'espn.com'\n    });\n\n    cookieJar.setCookie(espnS2, 'http://games.espn.com/');\n    cookieJar.setCookie(SWID, 'http://games.espn.com/');\n  }\n  \n  const options = {\n    method: 'GET',\n    jar: cookieJar,\n    uri: url,\n    json: true,\n    \"cache-control\": \"no-cache\"\n  };\n\n  return rp(options);\n}\n\nmodule.exports = {\n  requestToPromise: requestToPromise\n}"]},"metadata":{},"sourceType":"script"}